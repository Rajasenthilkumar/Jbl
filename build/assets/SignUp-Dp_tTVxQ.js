import{j as e,Z as a,a0 as f,a1 as C,cA as y,a2 as u,a5 as n,a7 as i,ax as w,ay as v,cB as b,aN as N,x as g,B as _,cL as P,r as F,b4 as S,cK as A}from"./index-BD9lYu5U.js";import{E as z}from"./EmailVerify-lXjxklXI.js";import{M as I}from"./MailIcon-2Ggx5cXu.js";const k="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8%208C8.99456%208%209.94839%207.60491%2010.6517%206.90165C11.3549%206.19839%2011.75%205.24456%2011.75%204.25C11.75%203.25544%2011.3549%202.30161%2010.6517%201.59835C9.94839%200.895088%208.99456%200.5%208%200.5C7.00544%200.5%206.05161%200.895088%205.34835%201.59835C4.64509%202.30161%204.25%203.25544%204.25%204.25C4.25%205.24456%204.64509%206.19839%205.34835%206.90165C6.05161%207.60491%207.00544%208%208%208ZM10.5%204.25C10.5%204.91304%2010.2366%205.54893%209.76777%206.01777C9.29893%206.48661%208.66304%206.75%208%206.75C7.33696%206.75%206.70107%206.48661%206.23223%206.01777C5.76339%205.54893%205.5%204.91304%205.5%204.25C5.5%203.58696%205.76339%202.95107%206.23223%202.48223C6.70107%202.01339%207.33696%201.75%208%201.75C8.66304%201.75%209.29893%202.01339%209.76777%202.48223C10.2366%202.95107%2010.5%203.58696%2010.5%204.25ZM15.5%2014.25C15.5%2015.5%2014.25%2015.5%2014.25%2015.5H1.75C1.75%2015.5%200.5%2015.5%200.5%2014.25C0.5%2013%201.75%209.25%208%209.25C14.25%209.25%2015.5%2013%2015.5%2014.25ZM14.25%2014.245C14.2487%2013.9375%2014.0575%2013.0125%2013.21%2012.165C12.395%2011.35%2010.8612%2010.5%208%2010.5C5.13875%2010.5%203.605%2011.35%202.79%2012.165C1.9425%2013.0125%201.7525%2013.9375%201.75%2014.245H14.25Z'%20fill='%233AB4FD'/%3e%3c/svg%3e",x=()=>e.jsx("div",{children:e.jsx("img",{src:k,alt:"user-icon",className:"w-4 h-4 mx-1"})}),E=a.object({name:a.string().min(1,{message:"First name is required"}).regex(/^[A-Za-z\s]+$/,{message:"First name must only contain letters and spaces"}),sur_name:a.string().min(1,{message:"Surname is required"}).regex(/^[A-Za-z\s]+$/,{message:"Surname must only contain letters and spaces"}),email:a.string().min(1,{message:"Email is required"}).email({message:"Invalid email address"}),country_code:a.string().min(1,{message:"Country code is required"}),phone:a.string().min(1,{message:"Phone number is required"}).min(10,{message:"Phone number must be at least 10 characters"}).max(15,{message:"Phone number must be at most 15 characters"}),password:a.string().min(1,{message:"Password is required"}).min(5,{message:"Password must be at least 5 characters long"}).regex(/[A-Z]/,{message:"Password must contain at least one uppercase letter"}).regex(/[a-z]/,{message:"Password must contain at least one lowercase letter"}).regex(/\d/,{message:"Password must contain at least one number"}).regex(/[\W_]/,{message:"Password must contain at least one special character"}),is_terms_approved:a.boolean().refine(t=>t===!0,{message:"You must agree to the terms and conditions"}),is_verified:a.boolean()}),Z=({onFinish:t,isSubmitting:o})=>{const{control:s,handleSubmit:l,setValue:m}=f({defaultValues:{country_code:"+27",email:"",is_terms_approved:!1,name:"",password:"",phone:"",sur_name:"",is_verified:!1},resolver:C(E)}),c=r=>{m("country_code",r)};return e.jsxs(y,{title:"Sign Up for a Host Account",subTitle:"Join other property host like you and start taking control of your properties damage claims management",children:[e.jsx(u,{id:"signup-form",onFinish:l(r=>{t(r)}),children:e.jsxs("div",{className:"flex flex-col gap-1 ",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx(n,{control:s,name:"name",className:"w-full",children:e.jsx(i,{prefix:e.jsx(x,{}),placeholder:"First name",size:"large",variant:"filled",className:"py-3",id:"first-name"})}),e.jsx(n,{control:s,name:"sur_name",className:"w-full",children:e.jsx(i,{prefix:e.jsx(x,{}),placeholder:"Surname",size:"large",variant:"filled",className:"py-3",id:"last-name"})})]}),e.jsx(n,{control:s,name:"email",children:e.jsx(i,{prefix:e.jsx(I,{}),placeholder:"Email",size:"large",variant:"filled",className:"py-3",id:"email"})}),e.jsx(n,{control:s,name:"phone",children:e.jsx(w,{control:s,name:"phone",render:({field:{onChange:r,onBlur:d,value:p}})=>e.jsx(v,{value:p,onChange:(h,j)=>{r(j),c(h)},onBlur:d,countryCode:""})})}),e.jsx(n,{control:s,name:"password",children:e.jsx(i.Password,{placeholder:"Password",size:"large",variant:"filled",className:"py-3",prefix:e.jsx(b,{}),id:"password"})}),e.jsx(n,{control:s,name:"is_terms_approved",valuePropName:"checked",children:e.jsx(N,{id:"terms-and-conditions",children:e.jsxs("p",{className:"text-base text-PrimaryText",children:[e.jsx("span",{className:"mr-1",children:"I agree to the"}),e.jsx(g,{target:"_blank",className:"underline text-primary",to:"/sign-up-terms-and-conditions",children:"Terms and Conditions"})]})})}),e.jsx(u.Item,{children:e.jsx(_,{id:"signup-button",type:"primary",htmlType:"submit",size:"large",className:"w-full py-6 font-bold",loading:o,children:"Register"})})]})}),e.jsxs("p",{className:"mt-2 text-center text-PrimaryText",id:"login-link",children:[e.jsx("span",{className:"mr-1",children:" Already have an account ?"}),e.jsx(g,{to:"/login",className:"font-bold text-primary",children:"Log in"})]})]})},U=()=>{const{signUp:t,success:o,loading:s}=P(),[l,m]=F.useState(""),c=async r=>{try{await t(r),m(r.email)}catch(d){S(d)}};return o?e.jsx(z,{email:l}):e.jsx("div",{children:e.jsx(Z,{onFinish:c,isSubmitting:s})})},L=()=>e.jsx(A,{children:e.jsx(U,{})});export{L as default};
