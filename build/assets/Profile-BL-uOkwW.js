import{j as e,Z as g,$ as T,a0 as z,a1 as Y,a2 as J,a3 as q,a4 as H,a5 as D,a6 as P,a7 as E,B as R,q as F,a8 as pe,a9 as W,r as I,w as _,aa as G,ab as Z,ac as B,v as he,ad as ce,ae as ee,af as Q,ag as se,ah as ae,ai as te,aj as ue,ak as $,al as X,am as fe,an as K,ao as xe,ap as le,aq as ie,ar as ge,as as je,at as oe,au as de,av as Ne,aw as ye,ax as be,ay as _e,az as re,aA as ve,aB as Ce,R as we,aC as De,aD as Ee,aE as Ie}from"./index-BD9lYu5U.js";import{P as Ae}from"./plus-Bw0xZhbz.js";const Se="data:image/svg+xml,%3csvg%20width='13'%20height='13'%20viewBox='0%200%2013%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1129_3996)'%3e%3cpath%20d='M5.69787%201.17185C5.84438%201.02539%206.04306%200.943115%206.25022%200.943115C6.45738%200.943115%206.65605%201.02539%206.80256%201.17185L8.59397%202.96326V1.9531C8.59397%201.8495%208.63512%201.75015%208.70838%201.67689C8.78164%201.60363%208.88099%201.56248%208.98459%201.56248H9.76584C9.86944%201.56248%209.9688%201.60363%2010.0421%201.67689C10.1153%201.75015%2010.1565%201.8495%2010.1565%201.9531V4.52576L11.9955%206.36404C12.0688%206.43739%2012.1099%206.53683%2012.1098%206.64049C12.1097%206.74415%2012.0685%206.84353%2011.9951%206.91678C11.9218%206.99002%2011.8223%207.03113%2011.7187%207.03106C11.615%207.03098%2011.5157%206.98974%2011.4424%206.91639L6.25022%201.7242L1.05803%206.91639C0.984784%206.98974%200.885401%207.03098%200.781744%207.03106C0.678086%207.03113%200.578644%206.99002%200.505295%206.91678C0.431947%206.84353%200.390698%206.74415%200.390625%206.64049C0.390552%206.53683%200.43166%206.43739%200.504905%206.36404L5.69787%201.17185Z'%20fill='%23D1FFC4'/%3e%3cpath%20d='M10.9375%207.26001L6.25%202.57251L1.5625%207.26001V10.5467C1.5625%2010.8575%201.68597%2011.1556%201.90573%2011.3754C2.1255%2011.5951%202.42357%2011.7186%202.73438%2011.7186H9.76562C10.0764%2011.7186%2010.3745%2011.5951%2010.5943%2011.3754C10.814%2011.1556%2010.9375%2010.8575%2010.9375%2010.5467V7.26001ZM6.25%206.62642C7.55%205.31938%2010.8008%207.6061%206.25%2010.5467C1.69922%207.6061%204.95%205.31938%206.25%206.62642Z'%20fill='%23D1FFC4'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1129_3996'%3e%3crect%20width='12.5'%20height='12.5'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Pe="data:image/svg+xml,%3csvg%20width='20'%20height='21'%20viewBox='0%200%2020%2021'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='10'%20cy='10.5'%20r='9.5'%20fill='white'%20stroke='%23E4E4E4'/%3e%3cg%20clip-path='url(%23clip0_774_30148)'%3e%3cpath%20d='M12.8828%209.33936H14.1519'%20stroke='%233AB4FD'%20stroke-width='0.634524'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.8828%2011.8774H14.1519'%20stroke='%233AB4FD'%20stroke-width='0.634524'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.64551%2012.5121C6.77631%2012.1403%207.01931%2011.8182%207.34096%2011.5904C7.66261%2011.3626%208.04705%2011.2402%208.44121%2011.2402C8.83537%2011.2402%209.21981%2011.3626%209.54146%2011.5904C9.86311%2011.8182%2010.1061%2012.1403%2010.2369%2012.5121'%20stroke='%233AB4FD'%20stroke-width='0.634524'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.4419%2011.2429C9.14277%2011.2429%209.71095%2010.6748%209.71095%209.97388C9.71095%209.27301%209.14277%208.70483%208.4419%208.70483C7.74102%208.70483%207.17285%209.27301%207.17285%209.97388C7.17285%2010.6748%207.74102%2011.2429%208.4419%2011.2429Z'%20stroke='%233AB4FD'%20stroke-width='0.634524'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15.4214%206.16675H5.26905C4.56817%206.16675%204%206.73492%204%207.4358V13.781C4%2014.4819%204.56817%2015.0501%205.26905%2015.0501H15.4214C16.1223%2015.0501%2016.6905%2014.4819%2016.6905%2013.781V7.4358C16.6905%206.73492%2016.1223%206.16675%2015.4214%206.16675Z'%20stroke='%233AB4FD'%20stroke-width='0.634524'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_774_30148'%3e%3crect%20width='14'%20height='13'%20fill='white'%20transform='translate(3%204)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",ke=({cardinfoclassName:t,title:r,textValue:i,infoClassname:n,subclassName:s,textDetailsclassName:a,cardName:h,cardNameValue:u,expirydateLabel:l,expirydateValue:f,titleDetail:d})=>{const m=c=>{if(!c)return"/images/icons/master_card.png";switch(c.split(".").pop()?.toLowerCase()){case"pdf":return"/images/icons/master_card.png";case"docx":return"/images/icons/master_card.png";default:return"/images/icons/master_card.png"}};return e.jsxs("div",{className:"bg-white p-4 br-bl-10px custom-creditcard",children:[e.jsx("h2",{className:s,children:r}),e.jsx("div",{className:"",children:e.jsxs("div",{className:"flex items-center pt-1",children:[e.jsx("img",{src:m(i),alt:i,className:"cardLogo me-1"}),e.jsxs("div",{className:t,children:[e.jsx("p",{className:a,title:d,children:i}),e.jsx("span",{className:n,children:"i"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 md:grid-cols-[50%_50%] gap-2 mb-2 mt-3",children:[e.jsx("div",{className:"",children:e.jsxs("div",{className:"",children:[e.jsx("h2",{className:s,children:h}),e.jsx("div",{className:t,children:e.jsx("p",{className:a,children:u})})]})}),e.jsx("div",{className:"",children:e.jsxs("div",{className:"",children:[e.jsx("h2",{className:s,children:l}),e.jsx("div",{className:t,children:e.jsx("p",{className:a,children:f})})]})})]})]})},Re=g.object({profile:g.object({company:g.object({company_name:g.string().optional(),business_registration_number:g.string().optional(),country_of_registration:g.string().min(1,"Country of registration is required").optional(),vat_number:g.string().optional(),document_path:g.string().regex(/\.(pdf|txt|png|svg|jpg|jpeg)$/,{message:"Only PDF or TXT or IMG files are allowed"}).optional(),country_of_issue:g.string().optional(),residential_address:g.string().optional(),company_address:g.string().optional(),id_number:g.string().optional(),address_proof:g.string().regex(/\.(pdf|txt|png|svg|jpg|jpeg)$/,{message:"Only PDF or TXT  or IMG files are allowed"}).optional()})})}),Te=g.object({cardholder_name:g.string().min(1,"Card holder name is required").min(2,"Card holder name must be at least 2 characters").regex(/^[A-Za-z\s]+$/,{message:"Card holder name must only contain letters and spaces"}),card_number:g.string().regex(/^\d{16}$/,"Card number must be 16 digits"),expiration_date:g.string().regex(/^(0[1-9]|1[0-2])\/(20[2-9]\d)$/,"Expiration date must be in MM/YYYY format"),cvv:g.string().regex(/^\d{3}$/,"CVV must be 3 digits")}),Me=g.object({alternative_contact_number:g.string().length(10,"Emergency contact must be exactly 10 digits").regex(/^\d{10}$/,"Emergency contact must be only digits")}),Ve=g.object({company_website:g.string()}),ne=g.object({profile:g.object({other_details:g.object({name:g.string().min(1,{message:"First name is required"}).regex(/^[A-Za-z\s]+$/,{message:"First name must only contain letters and spaces"}),sur_name:g.string().min(1,{message:"Surname is required"}).regex(/^[A-Za-z\s]+$/,{message:"Surname must only contain letters and spaces"}),profile_image_url:g.string(),country_code:g.string().min(1,{message:"Country code is required"}),phone:g.string().min(10,{message:"Phone number must be at least 10 characters"}).max(15,{message:"Phone number must be at most 15 characters"}).regex(/^\d+$/,{message:"Phone number must contain only digits"})})})}),Fe=({handleOk:t,handleCancel:r})=>{const i=T(),{control:n,setValue:s,handleSubmit:a}=z({shouldUnregister:!1,mode:"onChange",resolver:Y(Te),defaultValues:{}}),h=(d,m)=>c=>{let o=c.target.value.replace(/\D/g,"");m&&o.length>m&&(o=o.slice(0,m)),s(d,o,{shouldValidate:!0})},u=d=>{let m=d.target.value.replace(/\D/g,"");m.length>6&&(m=m.slice(0,6));let c=m.slice(0,2);const o=m.slice(2,6);c&&(Number.parseInt(c)>12||Number.parseInt(c)<1)&&(c="12"),m.length>=3&&(m=`${c}/${o}`),s("expiration_date",m,{shouldValidate:!0})},l=d=>{if(!/^[0-9]{13,19}$/.test(d))return!1;let c=0;const o=d.split("").reverse().map(Number);for(let j=0;j<o.length;j++){let v=o[j];j%2===1&&(v*=2,v>9&&(v-=9)),c+=v}return c%10===0},f=d=>{if(!l(d.card_number)){F.error("Invalid card number");return}const m={...d};i(pe(m)),F.success("Company details updated successfully!"),t()};return e.jsx(J,{onFinish:a(f),children:e.jsx(q,{children:e.jsx(H,{children:e.jsxs("div",{className:"drawerContainer flex flex-col gap-1 edit-info-modal credit-card-info-modal h-full",children:[e.jsx("div",{className:"contentArea editinfo-form-items flex-1",children:e.jsxs("div",{className:"editinfo creditcardinfo",children:[e.jsxs(D,{control:n,name:"cardholder_name",className:"w-full",children:[e.jsx(P,{labeltext:"CARDHOLDER NAME",className:"",inputId:""}),e.jsx(E,{placeholder:"CARDHOLDER NAME",size:"large",variant:"filled",className:"py-3 fullname-info",onChange:h("cardholder_name")})]}),e.jsxs(D,{control:n,name:"card_number",className:"w-full",children:[e.jsx(P,{labeltext:"CARD NUMBER",className:"",inputId:""}),e.jsx(E,{placeholder:"CARD NUMBER",size:"large",variant:"filled",className:"py-3 fullname-info",type:"text",maxLength:16,onChange:h("card_number",16)})]}),e.jsxs(D,{control:n,name:"expiration_date",className:"w-full",children:[e.jsx(P,{labeltext:"EXPIRY DATE (MM/YYYY)",className:"",inputId:""}),e.jsx(E,{placeholder:"MM/YYYY",size:"large",variant:"filled",className:"py-3 fullname-info",type:"text",maxLength:7,onChange:u})]}),e.jsxs(D,{control:n,name:"cvv",className:"w-full",children:[e.jsx(P,{labeltext:"CVV",className:"",inputId:""}),e.jsx(E,{placeholder:"Enter CVV",size:"large",variant:"filled",className:"py-3 fullname-info",type:"text",maxLength:3,onChange:h("cvv",3)})]})]})}),e.jsxs("div",{className:"footerclassName",children:[e.jsx("div",{className:"footerLine border-t border-gray-300 mb-2"}),e.jsxs("div",{className:"displayclassname flex justify-end gap-2",children:[e.jsx(R,{className:"cancel-btn",onClick:r,children:"Cancel"}),e.jsx(R,{type:"primary",htmlType:"submit",className:"save-btn",children:"Save Changes"})]})]})]})})})})},Oe=({open:t,handleCancel:r,handleOk:i})=>e.jsx(W,{title:"Card Details",placement:"right",closable:!0,onClose:r,visible:t,width:400,children:e.jsx(Fe,{handleCancel:r,handleOk:i})}),Be=()=>{const[t,r]=I.useState(!1),i=T(),n=_(N=>N.auth.userId),s=_(N=>{const C=N.customerDetails?.cardDetails?.data?.result;return C&&"authorizations"in C?C.authorizations||[]:[]}),a=_(N=>N.auth.profileDetails),h=_(N=>N.auth.profileDetails?.profiles??[]),u=_(N=>N.auth.profileDetails?.profiles?.[0]?.paystack_customer_code),l=s.map(N=>N.last4).filter(Boolean),f=s.map(N=>N.exp_month).filter(Boolean),d=s.map(N=>N.exp_year).filter(Boolean),m=I.useMemo(()=>s.length>0,[s.length]),c=()=>{r(!0)},o=()=>{r(!1)},j=()=>{o()};I.useEffect(()=>{n&&m&&i(G(n)),h.length>0&&i(Z())},[i,n,m,h.length]);const v=()=>s.length>0?`Mastercard... ${u&&l.length?l.join(", "):""}`:"",w=()=>s.length>0?`${u&&f.length?f.join(", "):"N/A"}/${u&&d.length?d.join(", "):"N/A"}`:"",A=()=>s.length>0&&a&&a.name&&a.sur_name?`${a?.name} ${a?.sur_name}`:"";return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"card-detail-style credit-card-style",children:[e.jsxs("div",{className:"card-header-details custom-card-header",children:[e.jsx("h1",{className:"card-detail-heading",children:"Credit Card Details"}),s.length>0?e.jsx(B,{componentType:"btnwithIcon",className:"additional-class",icon:e.jsx(Ae,{className:"fill-primary"}),onClick:c,children:e.jsx("span",{className:"text-primary-color fw700",children:"Add"})}):null]}),s.length>0?e.jsx(ke,{cardLogo:"cardlogo",cardinfoclassName:"flex",title:"CARD NAME",imageUrl:"",textValue:v(),expirydateValue:w(),infoClassname:"infoClassname",subclassName:"sub-classname",textDetailsclassName:"textDetailsclassName custom-text-truncate w200",cardNameValue:A(),cardName:"CARDHOLDER NAME",expirydateLabel:"EXPIRATION DATE",titleDetail:""}):e.jsx("div",{className:"bg-white p-4 br-bl-10px custom-creditcard",children:"No Credit card found"})]}),t&&e.jsx(Oe,{open:t,handleOk:j,handleCancel:o})]})},Ue=({cardinfoclassName:t,title:r,titleValue:i,subclassName:n,textDetailsclassName:s,accountholderName:a,accountholderValue:h,accountNumber:u,accountNumberValue:l,bankPincodeName:f,bankPincodeValue:d,bankCodeName:m,bankCodeValue:c})=>e.jsxs("div",{className:"bg-white p-4 br-bl-10px custom-creditcard bank-detailcard",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 md:grid-cols-[50%_50%] gap-2 mt-2 mb-4",children:e.jsx("div",{className:"",children:e.jsxs("div",{className:"",children:[e.jsx("h2",{className:n,children:r}),e.jsx("div",{className:t,children:e.jsx("p",{className:s,children:i})})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 md:grid-cols-[50%_50%] gap-2 mt-2 mb-4",children:[e.jsx("div",{className:"",children:e.jsxs("div",{className:"",children:[e.jsx("h2",{className:n,children:a}),e.jsx("div",{className:t,children:e.jsx("p",{className:s,children:h})})]})}),e.jsx("div",{className:"",children:e.jsxs("div",{className:"",children:[e.jsx("h2",{className:n,children:u}),e.jsx("div",{className:t,children:e.jsx("p",{className:s,children:l})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 md:grid-cols-[50%_50%] gap-2 mt-2 mb-4",children:[e.jsx("div",{className:"",children:e.jsxs("div",{className:"",children:[e.jsx("h2",{className:n,children:f}),e.jsx("div",{className:t,children:e.jsx("p",{className:s,children:d})})]})}),e.jsx("div",{className:"",children:e.jsxs("div",{className:"",children:[e.jsx("h2",{className:n,children:m}),e.jsx("div",{className:t,children:e.jsx("p",{className:s,children:c})})]})})]})]}),Le="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20%3e%3cg%20clip-path='url(%23clip0_774_30203)'%3e%3cpath%20d='M8%205.33325V7.99992L9.33333%209.33325'%20stroke='%233AB4FD'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'%20/%3e%3cpath%20d='M2.03418%207.3346C2.18357%205.86797%202.86769%204.50768%203.956%203.51324C5.04431%202.51881%206.46064%201.95986%207.93477%201.94302C9.40889%201.92618%2010.8376%202.45264%2011.9484%203.42196C13.0591%204.39127%2013.7741%205.73559%2013.957%207.19842C14.1398%208.66125%2013.7777%2010.1402%2012.9398%2011.3531C12.1018%2012.566%2010.8466%2013.428%209.4137%2013.7745C7.98079%2014.121%206.47045%2013.9279%205.17084%2013.232C3.87123%2012.536%202.87333%2011.386%202.36751%2010.0013M2.03418%2013.3346V10.0013H5.36751'%20stroke='%233AB4FD'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'%20/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_774_30203'%3e%3crect%20width='16'%20height='16'%20fill='white'%20/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",$e=()=>e.jsx("img",{src:Le,alt:"user-icon",className:"w-4 h-4 mx-1"}),ze=()=>{const t=he(),r=T(),i=_(l=>l.auth.userId),n=_(l=>{const f=l.customerDetails?.cardDetails?.data?.result;return f&&"authorizations"in f?f.authorizations||[]:[]}),s=_(l=>l.auth.profileDetails),a=_(l=>l.auth.profileDetails?.profiles??[]),h=n.map(l=>l.bank),u=()=>{t("/payment-history")};return I.useEffect(()=>{i&&r(G(i)),a.length>0&&r(Z())},[r,i,a.length]),e.jsxs("div",{children:[e.jsxs("div",{className:"card-header-details custom-card-header bank-detail-header",children:[e.jsx("h1",{className:"card-detail-heading",children:"Bank Details"}),e.jsx("div",{className:"flex",children:e.jsx(B,{componentType:"btnwithIcon",className:"add-history-button",icon:e.jsx($e,{}),onClick:u,children:e.jsx("span",{className:"text-primary-color fw700",children:"Payment History"})})})]}),e.jsx(Ue,{cardinfoclassName:"cardinfoclassName",title:"BANK NAME",titleValue:h[0]||"",subclassName:"sub-classname",textDetailsclassName:"textDetailsclassName",accountholderName:"AC. HOLDER NAME",accountholderValue:`${s?.name} ${s?.sur_name}`,accountNumber:"AC. NUMBER",accountNumberValue:9876543210,bankCodeName:"BANK BRANCH NUMBER",bankCodeValue:543210,bankPincodeName:"BIC CODE",bankPincodeValue:"SNBZAJJXXX"})]})},Ye=({cardinfoclassName:t,profileType:r,title:i,titleValue:n,companytitle:s,companyValue:a,companyclassName:h,countrytitle:u,countrytitleValue:l,vatDetail:f,vatDetailValue:d,addresstitle:m,addresstextValue:c,documenttitle:o,documenttitleValue:j,addressProofTitleValue:v,subclassName:w,textDetailsclassName:A})=>{const N=p=>{if(!p)return"/images/icons/doc_upload.png";switch(p.split(".").pop()?.toLowerCase()){case"pdf":return"/images/icons/doc_upload.png";case"doc":return"/images/icons/doc_upload.png";case"docx":return"/images/icons/doc_upload.png";case"ppt":return"/images/icons/doc_upload.png";case"pptx":return"/images/icons/doc_upload.png";case"xls":return"/images/icons/doc_upload.png";case"xlsx":return"/images/icons/doc_upload.png";case"txt":return"/images/icons/doc_upload.png";default:return"/images/icons/doc_upload.png"}},C=p=>{const S=p||"/docs/file.pdf";return S.substring(S.lastIndexOf("/")+1)};return e.jsxs("div",{className:"bg-white br-bl-10px custom-companycard",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 md:grid-cols-[50%_50%] gap-2 mt-2 mb-4",children:[e.jsx("div",{className:"",children:e.jsxs("div",{className:"",children:[e.jsx("h2",{className:w,children:i}),e.jsx("div",{className:t,children:e.jsx("p",{className:h,children:n})})]})}),e.jsx("div",{className:"",children:e.jsxs("div",{className:"",children:[e.jsx("h2",{className:w,children:s}),e.jsx("div",{className:t,children:e.jsx("p",{className:A,children:a})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 md:grid-cols-[50%_50%] gap-2 mt-2 mb-4",children:[e.jsx("div",{className:"",children:e.jsxs("div",{className:"",children:[e.jsx("h2",{className:w,children:u}),e.jsx("div",{className:t,children:e.jsx("p",{className:A,children:l})})]})}),r==="Juristic"&&e.jsx("div",{children:e.jsxs("div",{children:[e.jsx("h2",{className:w,children:f}),e.jsx("div",{className:t,children:e.jsx("p",{className:A,children:d})})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 md:grid-cols-[50%_50%] gap-2 mt-2 mb-4",children:e.jsx("div",{className:"",children:e.jsxs("div",{className:"",children:[e.jsx("h2",{className:w,children:m}),e.jsx("div",{className:t,children:e.jsx("p",{className:A,children:c})})]})})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 md:grid-cols-[50%_50%] gap-2 mt-2 mb-4",children:e.jsx("div",{className:"",children:e.jsxs("div",{className:"register-business",children:[e.jsx("h2",{className:w,children:o}),e.jsx("div",{className:t,children:e.jsxs("p",{className:A,children:[e.jsx("img",{src:N(v??void 0),alt:"File Icon",style:{width:"16px",height:"16px",marginRight:"8px"}}),C(j??"")]})})]})})})]})},Je=({titleValue:t,idNumber:r,countryOfIssue:i,residentialAddress:n,addressProof:s,companyValue:a,countrytitleValue:h,vatDetailValue:u,documenttitleValue:l,profileTypeValue:f,addresstextValue:d,handleCancel:m,handleOk:c})=>{const o=T(),[j,v]=I.useState(void 0),[w,A]=I.useState(!1),N=_(y=>y.auth.userId),C=y=>Array.isArray(y)?y[0]:y,p={profile:{company:{company_name:C(t),business_registration_number:C(a),country_of_registration:C(h),vat_number:C(u),document_path:C(l),company_address:C(d)}}},S={profile:{company:{id_number:C(r),country_of_issue:C(i),residential_address:C(n),address_proof:C(s)}}},k=I.useMemo(()=>ce.map(y=>({title:y.name,value:y.name})),[]),{control:b,setValue:U,handleSubmit:x,setError:L}=z({mode:"onChange",resolver:Y(Re),defaultValues:f==="Juristic"?p:S}),M=y=>V=>{let O;y==="country_of_registration"&&(typeof V=="string"||typeof V=="number")?O=V:typeof V=="object"&&"target"in V&&(y==="business_registration_number"||y==="vat_number"?O=V.target.value?Number.parseInt(V.target.value,10):void 0:O=V.target.value?Number(V.target.value):void 0),U(`profile.company.${y}`,O!==void 0?String(O):void 0,{shouldValidate:!0})},me=y=>{if(f==="Juristic"?!y.profile.company.document_path:!y.profile.company.address_proof){F.error("Document must be provided");return}const O={...y};o(ue({profileData:O,profileType:f})),F.success("Company details updated"),setTimeout(()=>{N&&o($(N))},100),c()};return I.useEffect(()=>{v(f==="Juristic"?l:s)},[f,l,s]),e.jsx(J,{onFinish:x(me),children:e.jsx(q,{children:e.jsx(H,{children:e.jsxs("div",{className:"drawerContainer flex flex-col gap-1 edit-info-modal company-detail-modal",children:[e.jsx("div",{className:"contentArea editinfo-form-items",children:e.jsx("div",{className:"editinfo creditcardinfo",children:f==="Juristic"?e.jsxs(e.Fragment,{children:[e.jsxs(D,{control:b,name:"profile.company.company_name",className:"w-full",children:[e.jsx(P,{labeltext:"COMPANY NAME",className:"",inputId:""}),e.jsx(E,{placeholder:"COMPANY NAME",size:"large",className:"py-3 fullname-info",onChange:M("company_name")})]}),e.jsxs(D,{control:b,name:"profile.company.company_address",className:"w-full",children:[e.jsx(P,{labeltext:"COMPANY ADDRESS",className:"",inputId:""}),e.jsx(E,{placeholder:"COMPANY ADDRESS",size:"large",className:"py-3 fullname-info",onChange:M("company_address")})]}),e.jsxs(D,{control:b,name:"profile.company.business_registration_number",className:"w-full",children:[e.jsx(P,{labeltext:"BUSINESS REGISTRATION NUMBER",className:"",inputId:""}),e.jsx(E,{placeholder:"BUSINESS REGISTRATION NUMBER",size:"large",className:"py-3 fullname-info",onChange:M("business_registration_number")})]}),e.jsxs(D,{control:b,name:"profile.company.country_of_registration",className:"w-full",children:[e.jsx(P,{labeltext:"COUNTRY OF REGISTRATION",className:"",inputId:""}),e.jsx(ee,{placeholder:"Country of Registration",size:"large",variant:"filled",filterOption:!0,showSearch:!0,optionFilterProp:"title",options:k,onChange:M("country_of_registration")})]}),e.jsxs(D,{control:b,name:"profile.company.vat_number",className:"w-full",children:[e.jsx(P,{labeltext:"VAT NUMBER",className:"",inputId:""}),e.jsx(E,{placeholder:"VAT NUMBER",size:"large",className:"py-3 fullname-info",onChange:M("vat_number")})]}),e.jsxs(D,{control:b,name:"profile.company.document_path",className:"w-full",children:[e.jsx(P,{labeltext:"BUSINESS REGISTRATION DOCUMENT",className:"",inputId:""}),e.jsx(E,{addonAfter:e.jsx(Q,{onClick:()=>A(!0)}),placeholder:"BUSINESS REGISTRATION DOCUMENT",size:"large",className:"py-3 fullname-info",onChange:M("document_path"),value:j}),w&&e.jsx(se,{type:"button",fileName:ae(j||""),fileLocation:j,setValue:y=>{v(y),U("profile.company.document_path",y)},acceptedFileTypes:".jpg, .jpeg, .png, .pdf, .txt",draggerText:"Upload Document",maxSize:te,setError:y=>L("profile.company.document_path",{message:y})})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(D,{control:b,name:"profile.company.id_number",className:"w-full",children:[e.jsx(P,{labeltext:"ID NUMBER",className:"",inputId:""}),e.jsx(E,{placeholder:"ID NUMBER",size:"large",className:"py-3 fullname-info",onChange:M("id_number")})]}),e.jsxs(D,{control:b,name:"profile.company.country_of_issue",className:"w-full",children:[e.jsx(P,{labeltext:"COUNTRY OF ISSUE",className:"",inputId:""}),e.jsx(ee,{placeholder:"Country of issue",size:"large",variant:"filled",filterOption:!0,showSearch:!0,optionFilterProp:"title",options:k,onChange:M("country_of_issue")})]}),e.jsxs(D,{control:b,name:"profile.company.residential_address",className:"w-full",children:[e.jsx(P,{labeltext:"RESIDENTIAL ADDRESS",className:"",inputId:""}),e.jsx(E,{placeholder:"RESIDENTIAL ADDRESS",size:"large",className:"py-3 fullname-info",onChange:M("residential_address")})]}),e.jsxs(D,{control:b,name:"profile.company.address_proof",className:"w-full",children:[e.jsx(P,{labeltext:"ADDRESS PROOF",className:"",inputId:""}),e.jsx(E,{addonAfter:e.jsx(Q,{onClick:()=>A(!0)}),placeholder:"ID PROOF",size:"large",className:"py-3 fullname-info",onChange:M("address_proof"),value:j}),w&&e.jsx(se,{type:"button",fileName:ae(j||""),fileLocation:j,setValue:y=>{v(y),U("profile.company.document_path",y)},acceptedFileTypes:".jpg, .jpeg, .png, .pdf, .txt",draggerText:"Upload Document",maxSize:te,setError:y=>L("profile.company.document_path",{message:y})})]})]})})}),e.jsx("div",{className:"footerArea",children:e.jsxs("div",{className:"actions flex justify-end gap-2",children:[e.jsx(R,{onClick:m,className:"cancel-btn",size:"large",htmlType:"button",children:"Cancel"}),e.jsx(R,{type:"primary",className:"save-btn",size:"large",htmlType:"submit",children:"Save"})]})})]})})})})},qe=({titleValue:t,idNumber:r,countryOfIssue:i,residentialAddress:n,addressProof:s,profileType:a,companyValue:h,countrytitleValue:u,vatDetailValue:l,documenttitleValue:f,addresstextValue:d,open:m,handleCancel:c,handleOk:o})=>e.jsx(W,{title:"Company Details",placement:"right",closable:!0,onClose:c,visible:m,width:400,children:e.jsx(Je,{titleValue:t,idNumber:r,countryOfIssue:i,residentialAddress:n,addressProof:s,companyValue:h,countrytitleValue:u,vatDetailValue:l,documenttitleValue:f,addresstextValue:d,profileTypeValue:a,handleCancel:c,handleOk:o})}),He=()=>{const[t,r]=I.useState(!1),i=T(),s=(_(x=>x.auth.profileDetails)||{profiles:[]}).profiles||[],a=s.length>0?s[0].host_id:null,h=Array.isArray(s)&&s.length>0?s[0].profile_type:"",u=s.length>0?s[0].company_name:"",l=s.length>0?s[0].business_registration_number:"",f=s.length>0?s[0].country_of_registration:"",d=s.length>0?s[0].vat_number:"",m=s.length>0?s[0].company_address:"",c=s.length>0?s[0].document_path:"",o=s.length>0?s[0].address_proof:[],j=c,v=Array.isArray(o)&&o.length>0?o[0]:"",w=_(x=>x.auth.profileDetails),A=`${w?.name||""} ${w?.sur_name||""}`,N=s.length>0?s[0].id_number:"",C=s.length>0?s[0].country_of_issue:"",p=s.length>0?s[0].residential_address:"",S=s.length>0?s[0].document_path:"";function k(){r(!0)}const b=()=>{r(!1)},U=()=>{b()};return I.useEffect(()=>{a&&i(G(a))},[i,a]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"card-detail-style credit-card-style",children:[e.jsxs("div",{className:"card-header-details custom-card-header company-detail-header",children:[s.map(x=>{const L=x.profile_type==="Juristic"?"Company Details":x.profile_type==="Individual"?"Personal Details":x.profile_type;return e.jsx("h1",{className:"card-detail-heading",title:"individual's details",children:L},x.id||x.profile_type)}),e.jsx(B,{componentType:"btnwithIcon",className:"additional-class",icon:e.jsx(X,{className:"fill-primary"}),onClick:k,children:e.jsx("span",{className:"text-primary-color fw700",children:"Edit"})})]}),s.map(x=>e.jsx(Ye,{profileType:x.profile_type,cardinfoclassName:"cardinfoclassName",title:x.profile_type==="Juristic"?"COMPANY NAME":"FULL NAME",titleValue:x.profile_type==="Juristic"?u:A,companytitle:x.profile_type==="Juristic"?"BUSINESS REGISTRATION NUMBER":"ID NUMBER",companyValue:x.profile_type==="Juristic"?l:N,countrytitle:x.profile_type==="Juristic"?"COUNTRY OF REGISTRATION":"COUNTRY OF ISSUE",countrytitleValue:x.profile_type==="Juristic"?f:C,vatDetail:x.profile_type==="Juristic"?"VAT NUMBER":"",vatDetailValue:x.profile_type==="Juristic"?d:"",addresstitle:x.profile_type==="Juristic"?"COMPANY ADDRESS":"RESIDENTIAL ADDRESS",addresstextValue:x.profile_type==="Juristic"?m:p,documenttitle:x.profile_type==="Juristic"?"BUSINESS REGISTRATION DOCUMENT":"ID PROOF",documenttitleValue:x.profile_type==="Juristic"?j:S,addressProofTitleValue:v,subclassName:"sub-classname",textDetailsclassName:"textDetailsclassName companyDetailsclassName d-flex custom-text-truncate w200",companyclassName:"textDetailsclassName d-flex custom-text-truncate w200"},x.id||x.profile_type))]}),t&&e.jsx(qe,{titleValue:u||"",idNumber:`${N}`,countryOfIssue:C||"",companyValue:l||"",residentialAddress:p||"",countrytitleValue:f||"",addressProof:Array.isArray(o)?o.join(", "):o||"",vatDetailValue:d||"",addresstextValue:m||"",documenttitleValue:j||"",open:t,profileType:h,profileId:a,handleOk:U,handleCancel:b})]})},We=fe({oldPassword:K().min(1,"Old password required"),newPassword:K().min(5,{message:"Password must be at least 5 characters"}).regex(/[A-Z]/,{message:"Password must contain at least one uppercase letter"}).regex(/[a-z]/,{message:"Password must contain at least one lowercase letter"}).regex(/\d/,{message:"Password must contain at least one number"}).regex(/[\W_]/,{message:"Password must contain at least one special character"}),confirmPassword:K().min(1,"Confirm password required")}).refine(t=>t.newPassword===t.confirmPassword,{message:"New Password and Confirm Password do not match.",path:["confirmPassword"]}),Ge=({open:t,onClose:r})=>{const{control:i,handleSubmit:n,reset:s}=z({defaultValues:{oldPassword:"",newPassword:"",confirmPassword:""},resolver:Y(We)}),a=T(),h=_(l=>l.profile.changePassword.status==="pending"),u=async l=>{await a(ge(l)),s()};return e.jsx(xe,{title:"Change Password",open:t,onCancel:r,footer:null,children:e.jsxs(J,{onFinish:n(u),children:[e.jsxs(D,{control:i,name:"oldPassword",children:[e.jsx("label",{htmlFor:"oldPassword",className:"block mb-1 text-sm font-semibold text-[#051621] form-label mt-4",children:"CURRENT PASSWORD"}),e.jsx(E.Password,{placeholder:"Enter Current Password",id:"oldPassword"})]}),e.jsxs(D,{control:i,name:"newPassword",className:"w-full",children:[e.jsx("label",{htmlFor:"newPassword",className:"block mb-1 text-sm font-semibold text-[#051621] form-label",children:"NEW PASSWORD"}),e.jsx(E.Password,{placeholder:"Enter New Password",iconRender:l=>l?e.jsx(le,{}):e.jsx(ie,{}),id:"newPassword"})]}),e.jsxs(D,{control:i,name:"confirmPassword",className:"w-full",children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block mb-1 text-sm font-semibold text-[#051621] form-label",children:"CONFIRM PASSWORD"}),e.jsx(E.Password,{placeholder:"Enter Confirm Password",iconRender:l=>l?e.jsx(le,{}):e.jsx(ie,{}),id:"confirmPassword"})]}),e.jsxs("div",{className:"flex justify-center my-2",children:[e.jsx(R,{className:"bg-lightBlue text-PrimaryText",htmlType:"button",onClick:r,disabled:h,children:"Cancel"}),e.jsx(R,{className:"mx-2",type:"primary",htmlType:"submit",loading:h,children:"Save Changes"})]})]})})},Ze=({firstNameValue:t,surNameValue:r,phoneNumber:i,countryCode:n,profileImageUrlValue:s,profileTypeValue:a,handleCancel:h,handleOk:u})=>{const l=T(),f=_(p=>p.profile.isChangePasswordVisible),d=_(p=>p.auth.userId),{control:m,setValue:c,watch:o}=z({mode:"onChange",resolver:Y(ne),defaultValues:{profile:{other_details:{name:t,sur_name:r,phone:i,country_code:n,profile_image_url:s}}}}),{errors:j}=je({control:m});I.useEffect(()=>{d&&l($(d))},[l,d]);const v=()=>{l(re())},w=async()=>{const p=o();try{const b={...p,profile:{...p.profile,other_details:{...p.profile.other_details,country_code:String(p.profile.other_details.country_code)}}};ne.parse(b)}catch(b){const x=b.data.error.msg;if(typeof x=="string")F.error(x.replace(/\\/g,""));else{const L=String(x).replace(/\\/g,"");F.error(L)}}const S=String(p.profile.other_details.country_code).replace(/["\\]/g,""),k={profile:{other_details:{name:p.profile.other_details.name,sur_name:p.profile.other_details.sur_name,profile_image_url:p.profile.other_details.profile_image_url,phone:p.profile.other_details.phone,country_code:S}}};l(ve({profileData:k,profileType:a})),F.success("Profile details updated successfully!"),setTimeout(()=>{d&&l($(d))},50),u()},A=p=>{c("profile.other_details.country_code",p)},N=p=>{c("profile.other_details.phone",p,{shouldValidate:!0})},C=()=>{const p=String(n),S=p.startsWith("+")?p:`+${p}`,k=ce.find(b=>b.dialCode===S);return k?`${k.code.toLowerCase()}`:""};return e.jsx(J,{children:e.jsx(q,{children:e.jsx(H,{children:e.jsxs("div",{className:"flex flex-col gap-1 edit-info-modal profile-modal-custom",children:[e.jsx("div",{className:"avatar-containers",children:e.jsx(oe,{shape:"circle",className:"avatar-profiles",src:s||void 0,icon:!s&&e.jsx(de,{})})}),e.jsxs("div",{className:"d-flex",children:[e.jsxs("div",{className:"edit-profile-btn",children:[e.jsx(Ne,{componentType:"btnwithIcon",className:"edit-info-modal-btns",icon:e.jsx(ye,{className:"fill-primary"}),setValue:p=>c("profile.other_details.profile_image_url",p),children:e.jsx("span",{className:"text-primary-color fw700",children:"Upload"})}),e.jsx(B,{componentType:"btnwithIcon",className:"edit-info-modal-btns",icon:e.jsx(Q,{className:"fill-primary"}),onClick:()=>{c("profile.other_details.profile_image_url",""),F.success("Profile image removed!"),w(),setTimeout(()=>{d&&l($(d))},100)},children:e.jsx("span",{className:"text-primary-color fw700",children:"Remove"})})]}),e.jsx("input",{id:"fileUploadInput",type:"file",accept:".jpg,.jpeg,.png,.pdf",style:{display:"none"},onChange:p=>{const S=p.target.files?.[0];S&&c("profile.other_details.profile_image_url",S.name)}})]}),e.jsx("div",{className:"editinfo-form-items",children:e.jsxs("div",{className:"editinfo",children:[e.jsx("label",{htmlFor:"fullName",className:"block mb-1 text-sm font-semibold text-[#051621] form-label",children:"FULL NAME"}),e.jsx(E,{id:"fullName",placeholder:"Enter Full Name",size:"large",className:"py-3 fullname-info mb-2",defaultValue:t,onChange:p=>c("profile.other_details.name",p.target.value,{shouldValidate:!0})}),j?.profile?.other_details?.name&&e.jsx("div",{className:"red__color mb-1",children:j.profile.other_details.name.message}),e.jsx(E,{placeholder:"Enter Surname",size:"large",className:"py-3 surname-info mb-2",defaultValue:r,onChange:p=>c("profile.other_details.sur_name",p.target.value,{shouldValidate:!0})}),j?.profile?.other_details?.sur_name&&e.jsx("div",{className:"red__color mb-1",children:j.profile.other_details.sur_name.message}),e.jsx(D,{control:m,name:"profile.other_details.phone",children:e.jsx(be,{control:m,name:"profile.other_details.phone",render:({field:{onBlur:p,value:S}})=>e.jsx(_e,{value:S,onChange:(k,b)=>{N(b),A(k)},onBlur:p,countryCode:C()})})}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(R,{className:"w-2/5 mt-2",type:"primary",onClick:v,children:"Change Password"})}),f&&e.jsx(Ge,{onClose:()=>l(re()),open:!0})]})}),e.jsxs("div",{className:"footerclassName",children:[e.jsx("div",{className:"footerLine border-t border-gray-300 mb-2"}),e.jsxs("div",{className:"displayclassname flex justify-end gap-2",children:[e.jsx(R,{className:"cancel-btn",onClick:h,children:"Cancel"}),e.jsx(R,{type:"primary",className:"save-btn",onClick:w,children:"Save Changes"})]})]})]})})})})},Xe=({firstName:t,lastName:r="",phoneNumber:i="",countryCode:n="",visible:s,profileType:a="",profileImageUrl:h="",handleCancel:u,handleOk:l})=>e.jsx(W,{title:"Edit Information",placement:"right",onClose:u,visible:s,width:400,children:e.jsx(Ze,{firstNameValue:t,surNameValue:r,handleCancel:u,profileImageUrlValue:h,handleOk:l,profileTypeValue:a,phoneNumber:i,countryCode:n})}),Ke=({cardinfoclassName:t,emergencycardtitle:r,emergencycardValue:i,subclassName:n,textDetailsclassName:s})=>e.jsx("div",{className:"bg-white p-4 custom-creditcard br-bl-10px",children:e.jsx("div",{className:"",children:e.jsxs("div",{className:"",children:[e.jsx("h2",{className:n,children:r}),e.jsx("div",{className:t,children:e.jsx("p",{className:s,children:i})})]})})}),Qe=({emergencycardValue:t,profileTypeValue:r,handleOk:i,handleCancel:n})=>{const s=T(),a=_(d=>d.auth.userId),{control:h,handleSubmit:u,setValue:l}=z({mode:"onChange",resolver:Y(Me),defaultValues:{alternative_contact_number:t}}),f=async d=>{const m={alternative_contact_number:d.alternative_contact_number};await s(Ce({emergencyDetails:m,profileType:r})),F.success("Emergency details update request sent!"),setTimeout(()=>{a&&s($(a))},100),i()};return e.jsx(J,{onFinish:u(f),children:e.jsx(q,{children:e.jsx(H,{children:e.jsxs("div",{className:"drawerContainer flex flex-col gap-1 edit-info-modal emergency-modal h-full",children:[e.jsx("div",{className:"contentArea editinfo-form-items flex-1",children:e.jsx("div",{className:"editinfo creditcardinfo emergency-info",children:e.jsxs(D,{control:h,name:"alternative_contact_number",className:"w-full",children:[e.jsx(P,{labeltext:"ALTERNATE CONTACT NUMBER",className:"",inputId:""}),e.jsx(E,{placeholder:"Enter Alternate Contact Number",size:"large",variant:"filled",className:"py-3 fullname-info",type:"tel",maxLength:10,onInput:d=>{const m=d.currentTarget.value.replace(/\D/g,"");l("alternative_contact_number",m,{shouldValidate:!0})}})]})})}),e.jsxs("div",{className:"footerclassName",children:[e.jsx("div",{className:"footerLine border-t border-gray-300 mb-2"}),e.jsxs("div",{className:"displayclassname flex justify-end gap-2",children:[e.jsx(R,{className:"cancel-btn",onClick:n,children:"Cancel"}),e.jsx(R,{type:"primary",htmlType:"submit",className:"save-btn",children:"Save Changes"})]})]})]})})})})},es=({emergencycardValue:t,profileType:r,profileIdValue:i,open:n,handleCancel:s,handleOk:a})=>e.jsx(W,{title:"Emergency Details",placement:"right",closable:!0,onClose:s,visible:n,width:400,children:e.jsx(Qe,{profileTypeValue:r,profileIdValue:i,emergencycardValue:t,handleCancel:s,handleOk:a})}),ss=()=>{const[t,r]=I.useState(!1),i=T(),n=_(c=>c.auth.profileDetails),s=n||{profiles:[]},a=s.profiles.length>0?s.profiles[0].host_id:0,h=_(c=>c.auth.profileDetails?.profiles)||[],u=Array.isArray(n?.profiles)?n.profiles.map(c=>c.profile_type)[0]:"",l=h.map(c=>c.alternative_contact_number)[0];function f(){r(!0)}const d=()=>{r(!1)},m=()=>{d()};return I.useEffect(()=>{s.profiles.length>0&&i(G(a))},[i,a,s]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"card-detail-style emergency-card-style",children:[e.jsxs("div",{className:"card-header-details custom-card-header",children:[e.jsx("h1",{className:"card-detail-heading",children:"Emergency Details"}),s.profiles.length>0?e.jsx(B,{componentType:"btnwithIcon",className:"additional-class",icon:e.jsx(X,{className:"fill-primary"}),onClick:f,children:e.jsx("span",{className:"text-primary-color fw700",children:"Edit"})}):null]}),s.profiles.length>0?e.jsx(Ke,{cardinfoclassName:"cardinfoclassName",emergencycardtitle:"Alternate Contact Number",emergencycardValue:l,profileType:u,subclassName:"sub-classname",textDetailsclassName:"textDetailsclassName"}):e.jsx("div",{className:"bg-white p-4 br-bl-10px custom-creditcard",children:"No Emergency details found"})]}),t&&e.jsx(es,{emergencycardValue:l,profileType:u,open:t,handleOk:m,handleCancel:d,profileIdValue:a})]})},as=({handleOk:t,className:r,cardinfoclassName:i,profileType:n,subclassName:s,textDetailsclassName:a,inputStyleclassName:h,websiteDetailsclassname:u,webSaveclassname:l,titleclassName:f,cardtitle:d,emergencycardtitle:m})=>{const[c,o]=I.useState(!1),j=T(),v=_(b=>b.auth.profileDetails?.profiles??[]),w=v.length>0&&v[0].company_website?v[0].company_website:"",[A,N]=I.useState(w);I.useEffect(()=>{v.length>0&&j(Z())},[j,v]);const C=()=>{o(!0),S("company_website",A)},{handleSubmit:p,setValue:S}=z({mode:"onChange",resolver:Y(Ve)}),k=async()=>{await j(De({websiteDetails:{company_website:A||""},profileType:n})),F.success("Website Link updated successfully!"),o(!1),t()};return e.jsx(J,{onFinish:p(k),children:e.jsxs("div",{className:"bg-white p-4 br10 website-details",children:[e.jsxs("div",{className:r,children:[e.jsx("h1",{className:f,children:d}),v.length>0&&!c?e.jsx(B,{componentType:"btnwithIcon",className:"additional-class",icon:e.jsx(X,{className:"fill-primary"}),onClick:C,children:e.jsx("span",{className:"text-primary-color fw700",children:"Edit"})}):null]}),v.length>0?e.jsx("div",{className:"",children:e.jsxs("div",{className:"",children:[e.jsx("h2",{className:s,children:m}),e.jsxs("div",{className:i,children:[e.jsx("div",{className:`${a} ${u}`,children:e.jsx(E,{prefix:e.jsx(we,{className:"fill-primary"}),value:A||"",onChange:b=>N(b.target.value),disabled:!c,placeholder:"Paste link here",bordered:!1,className:h})}),c&&e.jsx("div",{className:l,children:e.jsx(R,{type:"primary",htmlType:"submit",className:"save-btn",children:"Save Changes"})})]})]})}):e.jsxs("div",{className:"bg-white p-4 br10 website-details",children:[" ","No website Details found"," "]})]})})},ts=()=>{const t=T(),r=_(a=>a.auth.profileDetails?.profiles??[]),i=_(a=>a.auth.profileDetails),n=r.map(a=>a.company_website?a.company_website[0]:""),s=Array.isArray(i?.profiles)?i.profiles.map(a=>a.profile_type)[0]:void 0;return I.useEffect(()=>{r.length>0&&t(Z())},[t,r.length]),e.jsx("div",{children:e.jsx(as,{cardtitle:"Website URL",className:"credit-card-classname",textDetailsclassName:"textDetailsclassName textWebDetailsclasName",titleclassName:"credit-card-headertitle",subclassName:"sub-classname",cardinfoclassName:"cardinfoclassName",websiteValue:n[0]||"",websiteIcon:"linkimage",link:"icon",imageiconname:"me-2",emergencycardtitle:"",profileType:s??"",inputStyleclassName:"input-style-classname",webSaveclassname:"webSaveclassname",websiteDetailsclassname:"",handleCancel:()=>{throw new Error("Function not implemented.")},handleOk:()=>{throw new Error("Function not implemented.")}})})},ls=()=>{const[t,r]=I.useState(!1),i=_(o=>o.auth.userId),n=T(),s=_(o=>o.customerDetails?.customerDetails?.data?.result||[]),a=_(o=>o.auth.profileDetails),h=_(o=>o.auth.profileDetails)||{profiles:[]},u=h.profiles||[],l=Array.isArray(h?.profiles)?h.profiles.map(o=>o.profile_image_url)[0]:"",f=Array.isArray(h?.profiles)?h.profiles.map(o=>o.profile_type)[0]:"",d=()=>{r(!1)},m=()=>{r(!0)},c=()=>{d()};return I.useEffect(()=>{i&&n($(i))},[i,n]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed-header",children:e.jsxs("div",{className:"profile-header",children:[e.jsx("div",{className:"profile-background"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 md:grid-cols-[15%_55%_25%] gap-2 profile-grid mb-0",children:[e.jsxs("div",{className:"avatar-container",children:[e.jsx(oe,{shape:"circle",className:"avatar-profile",src:l||void 0,icon:!l&&e.jsx(de,{})}),e.jsxs("span",{className:"p-2 avatar-info",children:[e.jsx("img",{src:Se,alt:"id",className:"me-1"}),a?.profiles?.map(o=>e.jsxs("span",{className:"custom-text-truncate cursor-pointer",title:"individual's details",children:[o.profile_type," "]},o.id||o.profile_type))]})]}),e.jsxs("div",{className:"p-0 md:pl-0 profile-ul-list",children:[e.jsxs("h1",{className:"md:text-lg text-sm font-bold text-black-color profile-name custom-text-truncate",title:`${a?.name||""} ${a?.sur_name||""}`,children:[a?.name," ",a?.sur_name]}),e.jsxs("ul",{className:"flex flex-wrap space-x-4",children:[e.jsxs("li",{className:"flex py-2 px-0 profile-list-item",children:[e.jsx("img",{src:Ee,alt:"email"}),e.jsx("p",{className:"md:text-sm text-xs text-grey-color font-normal ms-2 w170 custom-text-truncate",title:a?.email||"",children:a?.email})]}),e.jsxs("li",{className:"flex p-2 profile-list-item",children:[e.jsx("img",{src:Ie,alt:"phone"}),e.jsx("p",{className:"md:text-sm text-xs text-grey-color font-normal ms-2 w85 custom-text-truncate",title:a?.phone||"",children:a?.phone})]}),e.jsxs("li",{className:"flex py-2 profile-list-item",children:[e.jsx("img",{src:Pe,alt:"id"}),e.jsx("p",{className:"md:text-sm text-xs text-grey-color font-normal ms-2 w100 custom-text-truncate",children:s?.id||"N/A"})]})]})]}),e.jsx("div",{className:"px-0 py-md-4 py-0 text-end",children:e.jsx(B,{componentType:"btnwithIcon",className:"additional-class mt-2",icon:e.jsx(X,{className:"fill-primary"}),onClick:m,children:e.jsx("span",{className:"text-primary-color fw700",children:"Edit"})})})]})]})}),e.jsx("div",{className:"profile-body",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 md:grid-cols-[45%_55%] gap-2 profile-card-details",children:[e.jsxs("div",{children:[e.jsx(Be,{}),e.jsx(ze,{}),e.jsx(ss,{})]}),e.jsxs("div",{className:"common-company-detail",children:[u.length>0&&e.jsx(He,{}),e.jsx(ts,{})]})]})}),t&&e.jsx(Xe,{handleOk:c,handleCancel:d,visible:t,firstName:a?.name||"",lastName:a?.sur_name||"",profileImageUrl:l||"",profileType:f||"",phoneNumber:s?.phone||"",countryCode:s?.country_code||""})]})},ns=()=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"profile-content",children:e.jsx(ls,{})})});export{ns as default};
